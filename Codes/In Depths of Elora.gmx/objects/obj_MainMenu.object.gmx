<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>1</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Create

{
    scr_back_to_menu();
    globalvar fnt_menu;
    fnt_menu = font_add_sprite_ext(spr_MainMenuFont,"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789:-.,'/&lt;&gt;=+",true,2);
    font = fnt_menu;
    
    image_speed = 1/5;
    display_set_gui_size(view_wport[0]/3,view_hport[0]/3);
    start_game = false;
    alpha = 1;
    draw_set_alpha(1);
    
    selected[0] = 0.5;
    for(var i = 1; i &lt; 12; i++)
        {
        selected[i] = 0;
        }
    selected_total = 5;
    selected_number = 0;
    
    show_first = "";
    show_last = "";
    offset = 0;
    
    
    main_menu[STARTGAME] = "START GAME";
    main_menu[SETTINGS] = "SETTINGS";
    main_menu[JOURNAL] = "JOURNAL";
    main_menu[PROFILES] = "PROFILES";
    main_menu[EXIT] = "EXIT";
    
    settings[CONTROLS] = "CONTROLS";
    settings[GAMEPLAY] = "GAMEPLAY";
    settings[GRAPHICS] = "GRAPHICS";
    settings[AUDIO] = "AUDIO";
    settings[SET_BACK] = "BACK";
    
    ini_open("profiles.ini");
    if ini_read_real("PROFILES","TOTAL",0) != 0 //Önceden oluşturulmuş bir profil var mı?
        {
        current_profile = ini_read_string("PROFILES","CURRENT","");
        ini_close();
        ini_open(string_lower(current_profile)+".ini");
        
        //Controls
        
        control_left_string[0] = ini_read_string("CONTROLS","LEFT1","LEFT ARROW");
        control_left_string[1] = ini_read_string("CONTROLS","LEFT2","A");
        
        control_right_string[0] = ini_read_string("CONTROLS","RIGHT1","RIGHT ARROW");
        control_right_string[1] = ini_read_string("CONTROLS","RIGHT2","D");
        
        control_jump_string =ini_read_string("CONTROLS","JUMP","SPACE");
        
        control_cameraup_string[0] = ini_read_string("CONTROLS","CAMERAUP1","UP ARROW");
        control_cameraup_string[1] = ini_read_string("CONTROLS","CAMERAUP2","W");
        
        control_cameradown_string[0] = ini_read_string("CONTROLS","CAMERADOWN1","DOWN ARROW");
        control_cameradown_string[1] = ini_read_string("CONTROLS","CAMERADOWN2","S");
        
        control_interact_string = ini_read_string("CONTROLS","INTERACT","E");
        
        control_journal_string = ini_read_string("CONTROLS","JOURNAL","TAB");
        
        control_pause_string = ini_read_string("CONTROLS","PAUSE","ESCAPE");
        
        //Gameplay
        
        hud = ini_read_string("GAMEPLAY","HUD","ALWAYS SHOW");
        
        on_startup = ini_read_string("GAMEPLAY","ONSTARTUP","MENU");
        
        dialog_speed = ini_read_real("GAMEPLAY","DIALOGSPEED",2);
        
        language = ini_read_string("GAMEPLAY","LANGUAGE","ENGLISH");
        
        speedrun_timer = ini_read_string("GAMEPLAY","SPEEDRUN TIMER","OFF");
        
        //Graphics
    
        v_sync = ini_read_string("GRAPHICS","V_SYNC","ON");
        
        fullscreen = ini_read_string("GRAPHICS","FULLSCREEN","ON");
        
        resolution_x = ini_read_string("GRAPHICS","RESOLUTIONX","1920");
        
        resolution_y = ini_read_string("GRAPHICS","RESOLUTIONY","1080");
        
        graphics_quality = ini_read_string("GRAPHICS","QUALITY","HIGH");  
        
        //Audio
        
        global.master_volume = ini_read_real("AUDIO","MASTER",10);
        
        global.music_volume = ini_read_real("AUDIO","MUSIC",10);
        
        global.sounds_volume = ini_read_real("AUDIO","SOUNDS",10);
        
        global.voices_volume = ini_read_real("AUDIO","VOICES",10);        
        
        //Variables
        
        description = "";
        menu_current = "Main Menu";
        scr_profile_load();
        }
    else
        {
        description = "Please enter a profile name. You can only use letters and numbers. #Press &lt;Enter&gt; to create. Press &lt;ESC&gt; to return to desktop. ";
        new_profile = "";
        keyboard_string = new_profile;
        menu_current = "New Profile";
        }
    button_current = 0;
        
    ini_close();
        
    
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Profile Name

{
    if menu_current = "New Profile"
        {
        if keyboard_check_pressed(vk_backspace)
            {
            new_profile = string_copy(new_profile,1,string_length(new_profile)-1);
            keyboard_string = new_profile;
            }
        else if keyboard_check_pressed(vk_anykey)
            {
            new_profile = string_copy(string_upper(string_lettersdigits(keyboard_string)),1,16);
            keyboard_string = new_profile;
            }
        }
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Down and Up

{
    if start_game
        {
        if alpha &gt; 0 then alpha -= 0.05;
        else room_goto_next();
        exit;
        }
        
    if menu_current != "New Profile"
        {
        var dir = (keyboard_check_pressed(vk_down) || keyboard_check_pressed(ord('S'))) - (keyboard_check_pressed(vk_up) || keyboard_check_pressed(ord('W')));
        if dir = -1
            {
            if selected_number = 0
                {
                selected[0] = 0;
                selected[selected_total-1] = 0.5;
                selected_number = selected_total-1;
                button_current = selected_number;
                if selected_total &gt; 5
                    {
                    offset = selected_total-5;
                    show_first = "+";
                    show_last = "";
                    }
                }
            else
                {
                selected[selected_number--] = 0;
                selected[selected_number] = 0.5;
                button_current = selected_number;
                if selected_total &gt; 5
                    {
                    if selected_number &lt; selected_total-5 then show_last = "=";
                    if offset &gt; 0 &amp;&amp; selected_number &lt; offset then offset--;
                    if offset = 0 then show_first = "";
                    }
                }
            }
        else if dir = 1
            {
            if selected_number = selected_total-1
                {
                selected[selected_total-1] = 0;
                selected[0] = 0.5;
                selected_number = 0;
                button_current = selected_number;
                if selected_total &gt; 5
                    {
                    show_first = "";
                    show_last = "=";
                    offset = 0;
                    }
                }
            else
                {
                selected[selected_number++] = 0;
                selected[selected_number] = 0.5;
                button_current = selected_number;
                if selected_total &gt; 5
                    {
                    if selected_number &gt;= 5 then show_first = "+";
                    if selected_number-offset &gt; 4 &amp;&amp; offset &lt; selected_total-4 then offset++;
                    if offset = selected_total-5 then show_last = "";
                    }
                }
            }
        }
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Left and Right

{
    var left = keyboard_check_pressed(vk_left);
    var right = keyboard_check_pressed(vk_right);
    dirc = right-left;
    if keyboard_check_pressed(vk_enter) then dirc = 1;
    if dirc != 0
        {
        switch(menu_current)
            {
            case "Gameplay": 
                switch(button_current)
                    {
                    case HUD:
                        gameplay[HUD] = scr_change_button(dirc,hud,gameplay[HUD],"HUD: ");
                        break;
                        
                    case ONSTARTUP:
                        gameplay[ONSTARTUP] = scr_change_button(dirc,on_startup,gameplay[ONSTARTUP],"ON STARTUP: ");
                        break;
                        
                    case DIALOGSPEED:
                        gameplay[DIALOGSPEED] = scr_change_button(dirc,dialog_speed,gameplay[DIALOGSPEED],"DIALOG SPEED: ");
                        break;
                        
                    case LANGUAGE:
                        gameplay[LANGUAGE] = scr_change_button(dirc,language,gameplay[LANGUAGE],"LANGUAGE: ");
                        break;
                        
                    case SPEEDRUN:
                        gameplay[SPEEDRUN] = scr_change_button(dirc,speedrun_timer,gameplay[SPEEDRUN],"SPEEDRUN TIMER: ");
                        break;
                    }
                break;
                    
            case "Graphics": 
                switch(button_current)
                    {
                    case V_SYNC:
                        graphics[V_SYNC] = scr_change_button(dirc,v_sync,graphics[V_SYNC],"V-SYNC: ");
                        break;
                        
                    case FULLSCREEN:
                        graphics[FULLSCREEN] = scr_change_button(dirc,fullscreen,graphics[FULLSCREEN],"FULLSCREEN: ");
                        break;
                        
                    case RESOLUTION:
                        graphics[RESOLUTION] = scr_change_button(dirc,resolution,graphics[RESOLUTION],"RESOLUTION: ");
                        break;
                        
                    case GRAP_QUALITY:
                        graphics[GRAP_QUALITY] = scr_change_button(dirc,graphics_quality,graphics[GRAP_QUALITY],"GRAPHICS QUALITY: ");
                        break;
                    }
                break;
                
            case "Audio":
                if !keyboard_check_pressed(vk_enter) then switch(button_current)
                    {
                    case MASTER_VOLUME:
                        global.master_volume = clamp(global.master_volume+(1*dirc),0,10);    
                        audio[MASTER_VOLUME] = "MASTER VOLUME: " + "&lt;" + string(global.master_volume) + "/10" + "&gt;";;
                        break;
                        
                    case MUSIC_VOLUME:
                        global.music_volume = clamp(global.music_volume+(1*dirc),0,10);    
                        audio[MUSIC_VOLUME] = "MUSIC VOLUME: " + "&lt;" + string(global.music_volume) + "/10" + "&gt;";;
                        break;
                        
                    case SOUNDS_VOLUME:
                        global.sounds_volume = clamp(global.sounds_volume+(1*dirc),0,10);    
                        audio[SOUNDS_VOLUME] = "SOUNDS VOLUME: " + "&lt;" + string(global.sounds_volume) + "/10" + "&gt;";;
                        break;
                        
                    case VOICES_VOLUME:
                        global.voices_volume = clamp(global.voices_volume+(1*dirc),0,10);    
                        audio[VOICES_VOLUME] = "VOICES VOLUME: " + "&lt;" + string(global.voices_volume) + "/10" + "&gt;";;
                        break;
                        
                    }
            }
            
        }
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Enter

{
    if keyboard_check_pressed(vk_enter) //Enter'a Basılırsa
        {
        switch(menu_current)
            {
            case "New Profile":
                if new_profile != ""
                    {
                    scr_profile_new();
                    description = "";
                    menu_current = "Main Menu";
                    }
                break;
                
            case "Main Menu":
                switch(button_current)
                    {
                    case STARTGAME:
                        start_game = true;
                        break;
                        
                    case SETTINGS:
                        menu_current = "Settings";
                        scr_change_menu(settings,0);
                        break;
                        
                    case JOURNAL:
                        break;
                        
                    case PROFILES:
                        break;
                        
                    case EXIT:
                        game_end();
                        break;
                        
                    }
                break;
                
            case "Settings":
                switch(button_current)
                    {
                    case CONTROLS:
                        menu_current = "Controls";
                        scr_change_menu(controls,0);
                        description = "Press &lt;Enter&gt; to change the key.";
                        break;
                        
                    case GAMEPLAY:
                        menu_current = "Gameplay";
                        scr_change_menu(gameplay,0);
                        break;
                        
                    case GRAPHICS:
                        menu_current = "Graphics";
                        scr_change_menu(graphics,0);
                        break;
                        
                    case AUDIO:
                        menu_current = "Audio";
                        scr_change_menu(audio,0);
                        break;
                        
                    case SET_BACK:
                        menu_current = "Main Menu";
                        scr_change_menu(main_menu,SETTINGS);
                        break;
                        
                    }
                break;
                
            case "Controls":
                switch(button_current)
                    {
                    case CONT_BACK:
                        menu_current = "Settings";
                        scr_change_menu(settings,0);
                        description = "";
                        break;
                    }
                
            case "Gameplay":
                switch(button_current)
                    {
                    case GAMEP_BACK:
                        menu_current = "Settings";
                        scr_change_menu(settings,1);
                        break;
                    }
                
            case "Graphics":
                switch(button_current)
                    {
                    case GRAP_BACK:
                        menu_current = "Settings";
                        scr_change_menu(settings,2);
                        break;
                    }
                
            case "Audio":
                switch(button_current)
                    {
                    case AUDIO_BACK:
                        menu_current = "Settings";
                        scr_change_menu(settings,3);
                        break;
                    }
            }
        }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="64">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Draw GUI

{
    draw_set_font(font);
    draw_set_halign(fa_center);
    draw_set_valign(fa_center);
    draw_set_colour(c_white);
    
    switch(menu_current)
        {
        case "Main Menu":
            scr_draw_menu(main_menu);
            break;
        
        case "Settings":
            scr_draw_menu(settings);
            break;
        
        case "Controls":
            scr_draw_menu(controls);
            break;
        
        case "Gameplay":
            scr_draw_menu(gameplay);
            break;
        
        case "Graphics":
            scr_draw_menu(graphics);
            break;
        
        case "Audio":
            scr_draw_menu(audio);
            break;
            
        case "New Profile":
            draw_text(room_width/2,176,"CREATE A NEW PROFILE: " + new_profile);
            break;
        
        }
        
    if description != ""
        {
        scr_draw_description(description);
        }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Draw

{
    draw_sprite(spr_MenuBackground,-1,0,0);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
